# 校园食光-多校AI美食社区平台20260104
## 一、全局入口层（平台启动核心）
- [ ] 平台域名：campusfood.cn 
  - 说明：统一访问入口，支持多校子站路由 
  - 界面设计示例：顶部居中显示域名，无多余元素 
- [ ] 高校智能识别 
  - 说明：自动路由至对应学校子站，降低学生操作成本 
  - 核心逻辑：IP/学号段匹配 + 手动切换学校（下拉选择） 
  - 界面设计示例：顶部右侧下拉框，默认显示当前学校，点击展开可选列表 
- [ ] 游客模式 
  - 说明：限制操作权限，引导登录转化 
  - 权限范围：仅浏览公开宣传内容，评价/打卡触发登录 
  - 界面设计示例：游客浏览时，互动按钮（评价/打卡）旁标注「登录后可操作」 
- [ ] 统一登录弹窗 
  - 说明：区分身份类型，保障层级权限隔离 
  - 核心元素：身份类型选择（学生/管理员）、认证方式选项、登录按钮 
  - 认证方式：学生（微信/学号+校园统一认证）；管理员（工号+层级绑定） 
  - 界面设计示例：居中弹窗，顶部标题「请选择身份登录」，身份选项横向排列，认证方式纵向罗列 
- [ ] 首次登录引导 
  - 学生：口味偏好填写→默认网名生成（干饭+形容词+2位数字）→隐私设置（默认关闭真实姓名） 
  - 管理员：工作台入口指引+身份标签设置指引 
  - 界面设计示例：分步弹窗，每步仅1个核心操作，底部「下一步/完成」按钮 

## 二、全站通用页面（学生/管理员共用，仅管理员多工作台入口）
### 1. 首页（/home）- 社区发现起点 
- [ ] 顶部AI对话入口（核心功能） 
  - 说明：学生决策核心，快速匹配菜品；支持语音/文字/图片输入 
  - 核心元素：悬浮图标、语音长按按钮、对话弹窗入口 
  - 界面设计示例：右上角悬浮圆形图标（带AI标识），点击展开全屏对话弹窗，支持长按语音输入 
- [ ] 社区动态流（主体内容） 
  - 说明：展示UGC晒单、官方宣传、热门话题，沉淀社区氛围 
  - 内容类型：学生晒单（带菜品/商户标签）、官方宣传（带学校/商户标识）、话题聚合卡片 
  - 界面设计示例：手机端单列卡片流，电脑端双列；每张卡片含头像/网名、内容、图片（可选）、互动按钮 
- [ ] 智能推荐卡片 
  - 说明：基于学生口味偏好和距离推荐，提升决策效率 
  - 内容类型：AI场景推荐（如「午餐推荐」）、好友动态（如「XX好友正在打卡」） 
  - 界面设计示例：首页中部横向滑动卡片，每张卡片含商户名称、菜品图片、步行时间、口味匹配度 
- [ ] 食堂/商户快捷导航 
  - 说明：快速定位目标食堂/商户，降低查找成本 
  - 核心元素：教学楼/区域筛选下拉框、商户卡片（带名称/图片/核心标签）、校园地图按钮 
  - 界面设计示例：导航区标题+筛选下拉框，下方横向滑动商户卡片，右侧校园地图按钮，点击弹窗展示校园地图 

### 2. AI对话弹窗（/home/ai-chat）- 决策核心 
- [ ] 输入方式：文字输入框、语音长按按钮、图片上传按钮 
- [ ] 推荐结果卡片 
  - 说明：展示精准匹配结果，含关键决策信息 
  - 核心元素：菜品名称、商户/档口名称、步行时间、口味匹配度、库存状态、导航小图标 
  - 界面设计示例：全屏弹窗，顶部输入区，中部结果卡片区（单列），底部快捷指令（换一家/太远了/想吃素） 

### 3. 商户详情页（/merchant/:id）- 兴趣落地 
- [ ] 信息展示区 
  - 核心内容：宣传视频/图片、菜品故事、实时客流密度、设施标签、层级路径、商户精准定位+导航按钮 
  - 界面设计示例：顶部轮播图，下方纵向排列信息模块，层级路径居顶显示，定位导航按钮并排展示 
- [ ] 下级单元/档口列表 
  - 说明：展示商户下层级单元，方便定位档口 
  - 核心元素：Tab切换（全部/营业中/收藏）、档口卡片（含名称/主营品类） 
  - 界面设计示例：横向Tab栏，下方网格排列档口卡片，点击卡片跳转档口菜单页 
- [ ] 社区讨论嵌入 
  - 说明：展示该商户相关UGC动态，增强互动感 
  - 界面设计示例：纵向卡片流，与首页动态流样式一致 
- [ ] 宣传内容互动区 
  - 核心元素：「想去试试」「已打卡」「分享」按钮 
  - 界面设计示例：按钮横向排列，居中展示，点击后生成对应社区动态 

### 4. 档口菜单页（/stall/:id）- 消费决策 
- [ ] AI智能排序（核心） 
  - 排序逻辑：口味匹配度＞实时供应状态＞距离＞社区评价热度 
  - 界面设计示例：排序规则默认生效，匹配度标签显示在菜品卡片右上角 
- [ ] 菜品瀑布流 
  - 核心元素：搜索框、分组Tab、快速筛选标签、菜品卡片 
  - 界面设计示例：顶部搜索框+横向滑动筛选标签，下方瀑布流排列菜品卡片 
- [ ] 实时库存（双模式） 
  - 模式一（设置份数）：限量菜品红色高亮+剩余份数进度条+售罄提醒 
  - 模式二（不设置份数）：仅显示「在售/售罄」状态（默认在售） 
  - 界面设计示例：库存状态显示在菜品卡片右下角 
- [ ] 快速评价入口 
  - 界面设计示例：底部悬浮圆形按钮，点击展开评价弹窗 
- [ ] 档口精准定位 
  - 说明：展示档口精准位置，支持一键导航 
  - 界面设计示例：位置文字+地图图标，与层级路径并排展示 

### 5. 菜品详情弹窗（/stall/:id?dish=:dishId）- 不跳转保持上下文 
- [ ] 信息展示：大图（可双指缩放）、价格、口味标签、菜品故事 
- [ ] 实时状态：在售/售罄切换、剩余份数（仅模式一显示） 
- [ ] 用户操作：收藏（飞星动画）、分享（生成海报+微信分享）、评价（跳转评价弹窗） 
- [ ] 界面设计示例：全屏弹窗，顶部关闭按钮，中部图片+信息区，底部横向排列操作按钮 

### 6. 社区页（/community）- 社交沉淀 
- [ ] 内容筛选器 
  - 核心选项：推荐、最新、关注、话题 
  - 界面设计示例：顶部横向Tab栏，默认选中「推荐」 
- [ ] 发布弹窗 
  - 核心元素：文字输入框、图片上传按钮、AI辅助撰写按钮、标签推荐、身份展示勾选框 
  - 界面设计示例：底部弹出弹窗，输入框占顶部大部分区域，功能按钮横向排列在底部 
- [ ] 动态卡片流 
  - 核心元素：网名+身份标签、动态内容、关联标签、点赞/评论/转发按钮 
  - 界面设计示例：与首页动态流样式一致，身份标签显示在网名下方 

### 7. 个人中心页（/profile）- 用户资产 
- [ ] 学生账号 
  - 核心模块：用户信息卡片、隐私设置、我的收藏、我的足迹、AI对话历史、AI饮食报告 
  - 我的足迹：文字列表+地图可视化切换，地图展示打卡食堂/档口点位，点击跳转对应页面 
  - 界面设计示例：顶部用户信息卡片，下方纵向排列功能模块入口 
- [ ] 管理员账号 
  - 身份标签设置：3个选项（教职工/工作人员/运营专员）+ 自定义备注（1-5字） 
  - 身份展示全局开关：滑动开关（默认开启） 
  - 进入工作台：手机端顶部大按钮，电脑端侧边按钮 
  - 界面设计示例：在学生模块基础上，顶部新增工作台入口，中部新增身份设置模块 

### 8. 评价弹窗 
- [ ] 核心元素：1-5星评分、口味标签选择、多图上传、文字输入框、AI辅助文案、身份展示勾选框 
- [ ] AI审核反馈：输入时实时检测敏感词，违规内容标红提示修改 
- [ ] 界面设计示例：居中弹窗，顶部评分区，中部标签+输入区，底部提交按钮 

### 9. 校园地图弹窗 
- [ ] 核心功能：校园全景地图、食堂/档口精准点位标注、点位点击跳转对应页面、步行导航路线、实时客流密度标注 
- [ ] 界面设计示例：全屏弹窗，顶部关闭按钮+搜索框，左侧食堂分类筛选，右侧地图主体，点位点击弹出导航按钮 

## 三、管理员专属-工作台（分层级管控，仅多入口无新页面）
### 通用规则 
- [ ] 层级权限铁律：仅管控同层级/下级，可自定义职位名+精准勾权限+指定下级单元 
- [ ] 无缝切换：工作台内点击「返回首页/社区」，保留操作进度 
- [ ] 权限可视化：手机端文字列表，电脑端可视化层级树 
- [ ] 快捷操作：扫码快编、批量导入（Excel）、批量设置库存模式 

### 1. 超级管理员工作台（/admin/super）- 平台层全局管控 
- [ ] 今日数据：全平台核心指标、宣传效果汇总 
- [ ] 核心功能：层级管理、用户管理、角色管理、规则配置、数据分析、操作日志 
- [ ] 界面设计示例：左侧功能导航栏，右侧主体数据/操作区，层级树可视化展示 

### 2. 学校管理员工作台（/admin/school/:schoolId）- 本校全管控 
- [ ] 今日数据：本校核心指标 
- [ ] 核心功能：层级管理、用户管理、商户管理、内容发布、数据分析、规则配置 

### 3. 商户管理员工作台（/admin/merchant/:merchantId）- 商户层级管控 
- [ ] 今日数据：本商户核心指标 
- [ ] 核心功能：层级管理、用户管理、菜品管理、内容发布、口碑管理、数据分析、商户地图点位编辑 

### 4. 档口管理员工作台（/admin/stall/:id）- 单档口精准管控 
- [ ] 今日数据：本档口供应状态/评价数/曝光次数 
- [ ] 核心功能：菜品管理、口碑管理、数据查看、操作日志、档口地图点位编辑 
- [ ] 界面设计示例：简化功能布局，核心操作优先展示，手机端适配触控大按钮 

## 四、核心规则（开发/展示核心依据）
- [ ] 身份展示控制：全局开关+单条互动勾选；隐藏时仅显网名，后台可追溯 
- [ ] 库存规则：模式一（限量菜品，显份数+进度条）；模式二（常规菜品，仅在售/售罄） 
- [ ] 响应式适配：全设备兼容，手机端优先优化触控体验，电脑端多列布局 
- [ ] 权限隔离：上级权限覆盖下级，同级无交叉，操作日志可追溯 
- [ ] 社区互动：管理员与学生平等，无特权，内容需经AI敏感词审核 
- [ ] 地图数据规则：地图点位及信息自动同步商户/档口配置数据，无需单独维护 

---
